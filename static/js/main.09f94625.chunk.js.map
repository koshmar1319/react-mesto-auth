{"version":3,"sources":["images/logo.svg","components/Header.js","components/AuthForm.js","utils/useFormAndValidation.js","components/Spinner.js","components/Login.js","components/Register.js","images/like.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/edit.png","images/plus.png","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/auth.js","utils/utils.js","components/InfoToolTip.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AffirmDeletePopup.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["Header","isLoggedIn","userEmail","onSignOut","isLoading","location","useLocation","isLocationSignIn","pathname","isLocationMain","React","useState","isColumnMenu","setColumnMenu","className","href","src","logoPath","alt","onClick","type","activeClassName","to","AuthForm","title","name","buttonText","onSubmit","isLocationSignUp","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newErrors","newIsValid","handleChange","e","target","value","validationMessage","closest","checkValidity","useFormAndValidation","useEffect","preventDefault","email","password","noValidate","placeholder","minLength","maxLength","onChange","required","disabled","Spinner","memo","Login","onLogin","Register","onRegister","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","likePath","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","api","groupID","token","authUrl","_showErrorMessage","res","ok","json","Promise","reject","status","this","_groupID","_token","_authUrl","fetch","method","headers","authorization","then","data","body","JSON","stringify","likeCardStatus","auth","baseUrl","_baseUrl","_checkResponse","InfoToolTip","isOpen","isSuccess","PopupWithForm","children","containerName","titleName","btnName","buttonState","EditProfilePopup","onUpdateUser","setName","description","setDescription","nameInputValid","setNameInputValid","aboutInputValid","setAboutInputValid","nameErrorMessage","setNameErrorMessage","aboutErrorMessage","setAboutErrorMessage","setButtonState","inputElement","validity","valid","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","linkInputValid","setLinkInputValid","linkErrorMessage","setLinkErrorMessage","linkOriginalState","setLinkOriginalState","current","ref","id","AddPlacePopup","setLink","nameOriginalState","setNameOriginalState","AffirmDeletePopup","onSubmitDelete","ProtectedRoute","Component","component","props","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCurrentUser","setCards","selectedCard","setSelectedCard","isAffirmDeletePopupOpen","setAffirmDeletePopupOpen","cardToDelete","setCardToDelete","loadTextEditProfilePopup","setLoadTextEditProfilePopup","loadTextEditAvatarPopup","setLoadTextEditAvatarPopup","loadTextAddPlacePopup","setLoadTextAddPlacePopup","loadTextAffirmDeletePopup","setLoadTextAffirmDeletePopup","isSuccessInfoToolTip","setIsSuccessInfoToolTip","isInfoToolTipPopupOpen","setInfoToolTipPopupOpen","setIsLoading","setUserEmail","userPassword","setUserPassword","setIsLoggedIn","history","useHistory","closeAllPopups","handleLogin","login","localStorage","setItem","handleCheckToken","catch","jwt","getItem","checkToken","push","all","getUserInfo","getInitialCards","userData","err","console","log","handleEscClose","evt","key","document","addEventListener","removeEventListener","closeOutsidePopup","classList","contains","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","register","setUserInfo","addCard","setUserAvatar","updateUser","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"8NAAe,MAA0B,iC,OCwD1BA,MApDf,YAAkE,IAAhDC,EAA+C,EAA/CA,WAAYC,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,UAC5CC,EAAWC,cACXC,EAAyC,aAAtBF,EAASG,SAC5BC,EAAuC,MAAtBJ,EAASG,SAChC,EAAsCE,IAAMC,UAAS,GAArD,mBAAOC,EAAP,KAAqBC,EAArB,KAmBA,OACE,wBAAQC,UAAS,SAAjB,SACE,sBAAKA,UAAS,4BAAuBF,EAAe,kBAAoB,IAAxE,UACE,sBAAKE,UAAS,iCAA4BF,EAAe,gCAAkC,IAA3F,UACE,mBAAGE,UAAS,uBAAkBF,EAAe,wBAA0B,IAAMG,KAAK,oBAAlF,SACE,qBAAKC,IAAKC,EAAUC,IAAI,4EAAgBJ,UAAU,oBAEpD,wBAAQA,UAAS,oBAAeF,EAAe,mBAAqB,sBAAwBO,QAXpG,WACEN,GAAc,IAU8GO,KAAK,SAA3H,qBAEF,sBAAKN,UAAS,+BAA2Bb,GAAcW,EAAgB,+BAAiC,IAAMO,QAjBpH,WACEN,GAAc,IAgBV,UACE,qBAAKC,UAAU,wBACf,qBAAKA,UAAU,wBACf,qBAAKA,UAAU,6BAEdV,GAAaK,IACd,sBAAKK,UAAS,gCAA2Bb,IAAeW,EAAe,sCAAwC,GAAjG,YAAuGA,EAAe,oCAAsC,IAA1K,UACE,mBAAGE,UAAU,gBAAb,SAA8Bb,EAAaC,EAAY,KACrDK,EAGA,cAAC,IAAD,CAASO,UAAU,mBAAmBO,gBAAgB,0BAA0BC,GAAI,WAApF,SAAkGrB,EAA6B,GAAhB,uEAF/G,cAAC,IAAD,CAASa,UAAS,2BAAsBL,EAAiB,0BAA4B,IAAMa,GAAI,WAAYH,QAAUlB,EAnCjI,WACEE,IACAU,GAAc,IAGhB,aA8BY,SAAiKZ,EAAa,iCAAU,4C,QC6BvLsB,MAtEf,YAA0D,IAAtCC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SAErCC,EAAyC,aAD9BtB,cACiBE,SAClC,ECLK,WACL,MAA4BG,mBAAS,IAArC,mBAAOkB,EAAP,KAAeC,EAAf,KACA,EAA4BnB,mBAAS,IAArC,mBAAOoB,EAAP,KAAeC,EAAf,KACA,EAA8BrB,oBAAS,GAAvC,mBAAOsB,EAAP,KAAgBC,EAAhB,KASMC,EAAYC,uBAAY,WAAyD,IAAxCC,EAAuC,uDAA3B,GAAIC,EAAuB,wDACpFR,EADoF,uDAA3C,IAEzCE,EAAUK,GACVH,EAAWI,KACV,CAACR,EAAWE,EAAWE,IAE1B,MAAO,CAACL,SAAQU,aAbhB,SAAsBC,GACpB,MAAsBA,EAAEC,OAAjBhB,EAAP,EAAOA,KAAMiB,EAAb,EAAaA,MACbZ,EAAU,2BAAID,GAAL,kBAAcJ,EAAOiB,KAC9BV,EAAU,2BAAID,GAAL,kBAAcN,EAAOe,EAAEC,OAAOE,qBACvCT,EAAWM,EAAEC,OAAOG,QAAQ,QAAQC,kBASRd,SAAQE,UAASE,YAAWL,YAAWE,YAAWE,cDbnBY,GAArDjB,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,aAAcR,EAA9B,EAA8BA,OAAQE,EAAtC,EAAsCA,QAASE,EAA/C,EAA+CA,UAW/C,OATAzB,IAAMqC,WAAU,WACdZ,MACC,IAQD,sBAAKrB,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BU,IAE7B,uBACEV,UAAU,aACVW,KAAI,oBAAeA,GACnBE,SAZN,SAAsBa,GACpBA,EAAEQ,iBACFrB,EAAS,CAAEsB,MAAOpB,EAAOoB,MAAOC,SAAUrB,EAAOqB,YAW7CC,YAAU,EAJZ,UAME,uBACE/B,KAAK,QACLK,KAAK,QACLiB,MAAOb,EAAOoB,OAAS,GACvBG,YAAY,QACZtC,UAAS,sBAAiBiB,EAAOkB,MAAQ,oBAAsB,IAC/DI,UAAU,IACVC,UAAU,KACVC,SAAUhB,EACViB,UAAQ,IAEV,sBAAM1C,UAAS,4BAAuBiB,EAAOkB,MAAQ,2BAA6B,IAAlF,SAAyFlB,EAAOkB,QAChG,uBACE7B,KAAK,WACLK,KAAK,WACLiB,MAAOb,EAAOqB,UAAY,GAC1BE,YAAY,uCACZtC,UAAS,sBAAiBiB,EAAOmB,SAAW,oBAAsB,IAClEG,UAAU,IACVC,UAAU,KACVC,SAAUhB,EACViB,UAAQ,IAEV,sBAAM1C,UAAS,4BAAuBiB,EAAOmB,SAAW,2BAA6B,IAArF,SAA4FnB,EAAOmB,WAEjG,wBACE9B,KAAK,SACLN,UAAS,oBAAgBmB,EAAiC,GAAvB,sBACnCwB,UAAWxB,GAAiB,GAH9B,SAKGP,IAIHE,GACE,sBAAKd,UAAU,cAAf,UACE,mBAAGA,UAAU,mBAAb,sIACA,cAAC,IAAD,CAAMA,UAAU,mBAAmBQ,GAAI,WAAvC,sDEnDCoC,EAZChD,IAAMiD,MAAK,YACzB,OAD4C,EAAhBvD,WAGxB,qBAAKU,UAAU,UAAf,SACE,qBAAKA,UAAU,qBAAf,SACE,qBAAKA,UAAU,8BCaV8C,MAhBf,YAAwC,IAAvBC,EAAsB,EAAtBA,QAASzD,EAAa,EAAbA,UACxB,OACE,qCACE,cAAC,EAAD,CAASA,UAAWA,KAClBA,GACA,cAAC,EAAD,CACEoB,MAAM,2BACNC,KAAK,QACLC,WAAW,iCACXC,SAAUkC,QCCLC,MAXf,YAAmC,IAAfC,EAAc,EAAdA,WAClB,OACI,cAAC,EAAD,CACEvC,MAAM,qEACNC,KAAK,WACLC,WAAW,+GACXC,SAAUoC,KCTH,MAA0B,iCCEnCC,EAAqBtD,IAAMuD,gBC6DlBC,MA3Df,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvCC,EAAc7D,IAAM8D,WAAWR,GAE/BS,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,0BAC7BH,EAAQ,GAAK,4BAGTI,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OACvDM,EAAuB,wBAC3BJ,EAAU,uBAAyB,IAerC,OACE,sBAAK/D,UAAU,UAAf,UACE,qBACEE,IAAG,UAAKmD,EAAKe,MACb/D,QAhBN,WACEiD,EAAYD,IAgBRjD,IAAKiD,EAAK1C,KACVX,UAAU,mBAEZ,wBACEA,UAAW8D,EACXzD,QAdN,WACEmD,EAAaH,IAcT/C,KAAK,WAEP,sBAAKN,UAAU,iBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCqD,EAAK1C,OACrC,sBAAKX,UAAU,eAAf,UACE,wBACEA,UAAWmE,EACX9D,QA1BV,WACEkD,EAAWF,IA0BH/C,KAAK,SAHP,SAKE,qBACEJ,IAAKmE,EACLjE,IAAI,0GACJJ,UAAU,oBAGd,qBAAKA,UAAU,iBAAf,SAAiCqD,EAAKW,MAAMM,mBC2BvCC,MA7Ef,YASI,IARFC,EAQC,EARDA,cACAC,EAOC,EAPDA,WACAC,EAMC,EANDA,aACApB,EAKC,EALDA,YACAqB,EAIC,EAJDA,MACApB,EAGC,EAHDA,WACAC,EAEC,EAFDA,aAGMC,GADL,EADDJ,KAEoBzD,IAAM8D,WAAWR,IAErC,OACE,uBAAMlD,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,iBAAf,UACE,wBACEA,UAAU,yCACVM,KAAK,SACLD,QAASqE,EAHX,SAKE,qBACExE,IAAKuD,EAAYmB,OACjBxE,IAAI,8IACJJ,UAAU,sBAGd,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCyD,EAAY9C,OAC5C,wBACEX,UAAU,uCACVM,KAAK,SACLD,QAASmE,EAHX,SAKE,qBACEtE,IC1CH,6PD2CGE,IAAI,sHACJJ,UAAU,yBAIhB,mBAAGA,UAAU,oBAAb,SAAkCyD,EAAYoB,cAGlD,wBACE7E,UAAU,uCACVM,KAAK,SACLD,QAASoE,EAHX,SAKE,qBACEvE,IEzDG,iSF0DHE,IAAI,8FACJJ,UAAU,uBAKhB,yBAASA,UAAU,WAAnB,SACE,oBAAIA,UAAU,iBAAd,SACG2E,EAAMG,KAAI,SAACzB,GACV,OACE,cAAC,EAAD,CAEEA,KAAMA,EACNC,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GAJTH,EAAKQ,gBGzDXkB,MAVf,WACE,OACE,wBAAQ/E,UAAU,SAAlB,SACE,oBAAGA,UAAU,eAAb,mBACU,IAAIgF,MAAOC,cADrB,sBCWSC,MAdf,YAAwC,IAAlB7B,EAAiB,EAAjBA,KAAM8B,EAAW,EAAXA,QAC1B,OACE,qBAAKnF,UAAS,4BAAuBqD,EAAKe,KAAO,eAAiB,IAAlE,SACE,sBAAKpE,UAAU,qBAAf,UACE,wBAAQA,UAAU,eAAeM,KAAK,SAASD,QAAS8E,EAAxD,kBAGA,qBAAKjF,IAAKmD,EAAKe,KAAMhE,IAAI,GAAGJ,UAAU,uBACtC,oBAAIA,UAAU,qBAAd,SAAoCqD,EAAK1C,a,gBC+FlCyE,EANH,I,WAlGV,cAAwC,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,QAAU,yBA0FvCC,kBAAoB,SAACC,GACnB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,UA7FpCC,KAAKC,SAAWX,EAChBU,KAAKE,OAASX,EACdS,KAAKG,SAAWX,E,+CAGlB,WACE,OAAOY,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,aAAgE,CAC1EI,OAAQ,MACRC,QAAS,CACPC,cAAeP,KAAKE,UAGrBM,KAAKR,KAAKP,qB,yBAGf,SAAYgB,GACV,OAAOL,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,aAAgE,CAC1EI,OAAQ,QACRC,QAAS,CACPC,cAAeP,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBhG,KAAM6F,EAAK7F,KACXkE,MAAO2B,EAAK3B,UAGb0B,KAAKR,KAAKP,qB,6BAGf,WACE,OAAOW,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,UAA6D,CACvEI,OAAQ,MACRC,QAAS,CACPC,cAAeP,KAAKE,UAGrBM,KAAKR,KAAKP,qB,qBAGf,SAAQnC,GACN,OAAO8C,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,UAA6D,CACvEI,OAAQ,OACRC,QAAS,CACPC,cAAeP,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBhG,KAAM0C,EAAK1C,KACXyD,KAAMf,EAAKe,SAGZmC,KAAKR,KAAKP,qB,wBAGf,SAAWnC,GACT,OAAO8C,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,kBAA6D3C,EAAKQ,KAAO,CACnFuC,OAAQ,SACRC,QAAS,CACPC,cAAeP,KAAKE,UAGrBM,KAAKR,KAAKP,qB,2BAGf,SAAcZ,GACZ,OAAOuB,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,oBAAuE,CACjFI,OAAQ,QACRC,QAAS,CACPC,cAAeP,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnB/B,OAAQA,MAGT2B,KAAKR,KAAKP,qB,kCAGf,SAAqBnC,EAAMuD,GACzB,OAAOT,MAAM,qCAAD,OAAsCJ,KAAKC,SAA3C,wBAAmE3C,EAAKQ,KAAO,CACzFuC,OAASQ,EAAiB,MAAQ,SAClCP,QAAS,CACPC,cAAeP,KAAKE,UAGrBM,KAAKR,KAAKP,uB,KAWL,CAAQ,CAClBF,MAAO,uCACPD,QAAS,YACTE,QAAS,kCCjDIsB,EADF,I,WAjDX,cAAuB,IAAVC,EAAS,EAATA,QAAS,oBACpBf,KAAKgB,SAAWD,E,kDAGlB,SAAerB,GACb,OAAGA,EAAIC,GACED,EAAIE,OAEJC,QAAQC,OAAR,+CAAyBJ,EAAIK,W,sBAIxC,YAA4B,IAAlB3D,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,SACf,OAAO+D,MAAM,GAAD,OAAIJ,KAAKgB,SAAT,WAA4B,CACtCX,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CACnB,SAAYvE,EACZ,MAASD,MAEVoE,KAAKR,KAAKiB,kB,mBAGf,YAAyB,IAAlB7E,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,SACZ,OAAO+D,MAAM,GAAD,OAAIJ,KAAKgB,SAAT,WAA4B,CACtCX,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CACnB,SAAYvE,EACZ,MAASD,MAEVoE,KAAKR,KAAKiB,kB,wBAGf,SAAW1B,GACT,OAAOa,MAAM,GAAD,OAAIJ,KAAKgB,SAAT,aAA8B,CACxCX,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2Bf,MAE5BiB,KAAKR,KAAKiB,oB,KAIJ,CCpDQ,CACnBF,QAAS,kCCaIG,MAZf,YAAmD,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,UAAWhC,EAAS,EAATA,QACvC,OACE,qBAAKnF,UAAS,gBAAWkH,EAAS,eAAiB,IAAnD,SACE,sBAAKlH,UAAU,mBAAf,UACE,qBAAKA,UAAS,+BAA2BmH,EAA+C,GAAnC,oCACrD,oBAAInH,UAAS,uBAAb,SAAyCmH,EAAyD,wKAA7C,wMACrD,wBAAQnH,UAAU,8BAA8BM,KAAK,SAASD,QAAS8E,UCsChEiC,MA5Cf,YAYI,IAXF1G,EAWC,EAXDA,MACAC,EAUC,EAVDA,KACAuG,EASC,EATDA,OACAtG,EAQC,EARDA,WACAuE,EAOC,EAPDA,QACAkC,EAMC,EANDA,SACAC,EAKC,EALDA,cACAC,EAIC,EAJDA,UACAC,EAGC,EAHDA,QACA3G,EAEC,EAFDA,SACA4G,EACC,EADDA,YAEA,OACE,qBAAKzH,UAAS,gBAAWkH,EAAS,eAAiB,IAAnD,SACE,sBAAKlH,UAAS,2BAAsBsH,GAAgC,IAApE,UACE,wBAAQtH,UAAU,eAAeM,KAAK,SAASD,QAAS8E,EAAxD,kBAGA,oBAAInF,UAAS,uBAAkBuH,GAAwB,IAAvD,SACG7G,IAEH,uBACEV,UAAU,kCACVW,KAAI,qBAAgBA,GACpBE,SAAUA,EACVwB,YAAU,EAJZ,UAMGgF,EACD,wBACErH,UAAS,qBAAgBwH,GAAoB,GAApC,YACNC,EAAsC,GAAxB,uBAEjBnH,KAAK,SACLqC,UAAW8E,GAAqB,GALlC,SAOG7G,aCqFE8G,MAvHf,YAA0E,IAA9CR,EAA6C,EAA7CA,OAAQ/B,EAAqC,EAArCA,QAASwC,EAA4B,EAA5BA,aAAc/G,EAAc,EAAdA,WACzD,EAAwBhB,IAAMC,SAAS,QAAvC,mBAAOc,EAAP,KAAaiH,EAAb,KACA,EAAsChI,IAAMC,SAAS,SAArD,mBAAOgI,EAAP,KAAoBC,EAApB,KAEA,EAA4ClI,IAAMC,UAAS,GAA3D,mBAAOkI,EAAP,KAAuBC,EAAvB,KACA,EAA8CpI,IAAMC,UAAS,GAA7D,mBAAOoI,EAAP,KAAwBC,EAAxB,KACA,EAAgDtI,IAAMC,SAAS,IAA/D,mBAAOsI,EAAP,KAAyBC,EAAzB,KACA,EAAkDxI,IAAMC,SAAS,IAAjE,mBAAOwI,EAAP,KAA0BC,EAA1B,KACA,EAAsC1I,IAAMC,UAAS,GAArD,mBAAO4H,EAAP,KAAoBc,EAApB,KAEM9E,EAAc7D,IAAM8D,WAAWR,GAuDrC,OArDAtD,IAAMqC,WAAU,WACVwB,EAAY9C,MAAQ8C,EAAYoB,QAClC+C,EAAQnE,EAAY9C,MACpBmH,EAAerE,EAAYoB,QAE7BmD,GAAkB,GAClBE,GAAmB,KAClB,CAACzE,EAAayD,IAsCjBtH,IAAMqC,WAAU,WAEZsG,KADER,IAAkBE,MAKrB,CAACF,EAAgBE,IAGlB,eAAC,EAAD,CACEvH,MAAM,4HACNC,KAAK,UACLC,WAAYA,EACZsG,OAAQA,EACR/B,QAASA,EACTtE,SAzCJ,SAAsBa,GACpBA,EAAEQ,iBACFyF,EAAa,CACXhH,OACAkE,MAAOgD,KAsCPJ,YAAaA,EAPf,UASE,sBAAKzH,UAAU,cAAf,UACE,uBACEA,UAAS,sCACTM,KAAK,OACLK,KAAK,OACL2B,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVZ,MAAOjB,EACP8B,SA/DR,SAA0Bf,GAkB1B,IAAgC8G,EAjB9BZ,EAAQlG,EAAEC,OAAOC,QAiBa4G,EAhBP9G,EAAEC,QAiBP8G,SAASC,MAIzBV,GAAkB,IAHlBA,GAAkB,GAClBI,EAAoBI,EAAa3G,qBA2C7Ba,UAAQ,IAEV,sBACE1C,UAAS,6BACN+H,EAA+C,GAA9B,6BAFtB,SAKGI,OAGL,sBAAKnI,UAAU,cAAf,UACE,uBACEA,UAAU,qCACVM,KAAK,OACLK,KAAK,QACL2B,YAAY,kCACZC,UAAU,IACVC,UAAU,MACVZ,MAAOiG,EACPpF,SA9ER,SAA2Bf,GAsB3B,IAAiC8G,EArB/BV,EAAepG,EAAEC,OAAOC,QAqBO4G,EApBP9G,EAAEC,QAqBR8G,SAASC,MAIzBR,GAAmB,IAHnBA,GAAmB,GACnBI,EAAqBE,EAAa3G,qBAsD9Ba,UAAQ,IAEV,sBACE1C,UAAS,6BACNiI,EAAgD,GAA9B,6BAFvB,SAKGI,WCtCIM,MA3Ef,YAA2E,IAAhDzB,EAA+C,EAA/CA,OAAQ/B,EAAuC,EAAvCA,QAASyD,EAA8B,EAA9BA,eAAgBhI,EAAc,EAAdA,WACpDiI,EAAWjJ,IAAMkJ,SAEvB,EAA4ClJ,IAAMC,UAAS,GAA3D,mBAAOkJ,EAAP,KAAuBC,EAAvB,KACA,EAAgDpJ,IAAMC,SAAS,IAA/D,mBAAOoJ,EAAP,KAAyBC,EAAzB,KACA,EAAsCtJ,IAAMC,UAAS,GAArD,mBAAO4H,EAAP,KAAoBc,EAApB,KACA,EAAkD3I,IAAMC,UAAS,GAAjE,mBAAOsJ,EAAP,KAA0BC,EAA1B,KAiCA,OAfAxJ,IAAMqC,WAAU,WACdmH,GAAqB,GACrBJ,GAAkB,GAClBT,GAAe,GACfM,EAASQ,QAAQzH,MAAQ,KACxB,CAACsF,IAEJtH,IAAMqC,WAAU,WAEZsG,KADEQ,GAAmBI,MAKtB,CAACJ,EAAgBI,IAGlB,cAAC,EAAD,CACE7B,cAAc,uBACdC,UAAU,mBACVC,QAAQ,iBACR9G,MAAM,wFACNC,KAAK,SACLC,WAAYA,EACZsG,OAAQA,EACR/B,QAASA,EACTtE,SAzCJ,SAAsBa,GACpBA,EAAEQ,iBACF0G,EAAe,CAAEhE,OAAQiE,EAASQ,QAAQzH,SAwCxC6F,YAAaA,EAVf,SAYE,sBAAKzH,UAAU,cAAf,UACE,uBACEA,UAAU,gCACVM,KAAK,MACLK,KAAK,OACL2B,YAAY,yFACZgH,IAAKT,EACLpG,SA9CR,SAAsBf,GACfA,EAAEC,OAAO8G,SAASC,OAKrBU,GAAqB,GACrBJ,GAAkB,KALlBI,GAAqB,GACrBJ,GAAkB,GAClBE,EAAoBxH,EAAEC,OAAOE,qBA2CzBa,UAAQ,IAEV,sBACE1C,UAAS,oDACN+I,EAA+C,GAA9B,6BAEpBQ,GAAG,kBAJL,SAMGN,UC2DIO,MA/Hf,YAAqE,IAA5CtC,EAA2C,EAA3CA,OAAQ/B,EAAmC,EAAnCA,QAASV,EAA0B,EAA1BA,WAAY7D,EAAc,EAAdA,WACpD,EAAwBhB,IAAMC,SAAS,IAAvC,mBAAOc,EAAP,KAAaiH,EAAb,KACA,EAAwBhI,IAAMC,SAAS,IAAvC,mBAAOuE,EAAP,KAAaqF,EAAb,KAEA,EAA4C7J,IAAMC,UAAS,GAA3D,mBAAOkI,EAAP,KAAuBC,EAAvB,KACA,EAA4CpI,IAAMC,UAAS,GAA3D,mBAAOkJ,EAAP,KAAuBC,EAAvB,KACA,EAAgDpJ,IAAMC,SAAS,IAA/D,mBAAOsI,EAAP,KAAyBC,EAAzB,KACA,EAAgDxI,IAAMC,SAAS,IAA/D,mBAAOoJ,EAAP,KAAyBC,EAAzB,KACA,EAAsCtJ,IAAMC,UAAS,GAArD,mBAAO4H,EAAP,KAAoBc,EAApB,KAEA,EAAkD3I,IAAMC,UAAS,GAAjE,mBAAO6J,EAAP,KAA0BC,EAA1B,KACA,EAAkD/J,IAAMC,UAAS,GAAjE,mBAAOsJ,EAAP,KAA0BC,EAA1B,KA8DA,OA7CAxJ,IAAMqC,WAAU,WACd2F,EAAQ,IACR6B,EAAQ,IACRzB,GAAkB,GAClBgB,GAAkB,GAClBT,GAAe,GACfoB,GAAqB,GACrBP,GAAqB,KACpB,CAAClC,IAEJtH,IAAMqC,WAAU,WAOZsG,KALAR,IACAgB,GACCW,GACAP,MAMF,CAACpB,EAAgBgB,EAAgBW,EAAmBP,IAyBrD,eAAC,EAAD,CACEzI,MAAM,gEACNC,KAAK,OACLC,WAAYA,EACZC,SAjEJ,SAA8Ba,GAC5BA,EAAEQ,iBACFuC,EAAW,CAAE9D,OAAMyD,UAgEjB8C,OAAQA,EACR/B,QAASA,EACTsC,YAAaA,EAPf,UASE,sBAAKzH,UAAU,cAAf,UACE,uBACEA,UAAU,uCACVM,KAAK,OACLK,KAAK,QACL2B,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVZ,MAAOjB,EACP8B,SA1ER,SAA2Bf,GAiC3B,IAAgC8G,EAhC9BZ,EAAQlG,EAAEC,OAAOC,QAgCa4G,EA/BP9G,EAAEC,QAgCP8G,SAASC,OAKzBiB,GAAqB,GACrB3B,GAAkB,KALlB2B,GAAqB,GACrB3B,GAAkB,GAClBI,EAAoBI,EAAa3G,qBAsC7BsD,QAASA,EACTzC,UAAQ,IAEV,sBACE1C,UAAS,6BACN+H,EAA+C,GAA9B,6BAFtB,SAKGI,OAGL,sBAAKnI,UAAU,cAAf,UACE,uBACEA,UAAU,sCACVM,KAAK,MACLK,KAAK,OACL2B,YAAY,qGACZV,MAAOwC,EACP3B,SAxFR,SAA0Bf,GAuC1B,IAAgC8G,EAtC9BiB,EAAQ/H,EAAEC,OAAOC,QAsCa4G,EArCP9G,EAAEC,QAsCP8G,SAASC,OAKzBU,GAAqB,GACrBJ,GAAkB,KALlBI,GAAqB,GACrBJ,GAAkB,GAClBE,EAAoBV,EAAa3G,qBA8C7BsD,QAASA,EACTzC,UAAQ,IAEV,sBACE1C,UAAS,6BACN+I,EAA+C,GAA9B,6BAFtB,SAKGE,WC5FIW,MA5Bf,YAMI,IALF1C,EAKC,EALDA,OACA/B,EAIC,EAJDA,QACA9B,EAGC,EAHDA,KACAwG,EAEC,EAFDA,eACAjJ,EACC,EADDA,WAOA,OACE,cAAC,EAAD,CACE0G,cAAc,wBACdC,UAAU,oBACVC,QAAQ,iBACR9G,MAAM,2DACNC,KAAK,SACLC,WAAYA,EACZsG,OAAQA,EACR/B,QAASA,EACTtE,SAfJ,SAAsBa,GACpBA,EAAEQ,iBACF2H,EAAexG,IAcboE,aAAa,K,QCfJqC,MARf,YAA0D,IAAtBC,EAAqB,EAAhCC,UAAyBC,EAAO,6BACvD,OACE,cAAC,IAAD,UACG,kBAAMA,EAAM9K,WAAa,cAAC4K,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUzJ,GAAG,iBC8UzD0J,MAhUf,WACE,MAA0DtK,IAAMC,UAAS,GAAzE,mBAAOsK,EAAP,KAA+BC,EAA/B,KACA,EAAoDxK,IAAMC,UAAS,GAAnE,mBAAOwK,EAAP,KAA4BC,EAA5B,KACA,EAAwD1K,IAAMC,UAAS,GAAvE,mBAAO0K,EAAP,KAA8BC,EAA9B,KACA,EAAsC5K,IAAMC,SAAS,IAArD,mBAAO4D,EAAP,KAAoBgH,EAApB,KAEA,EAA0B7K,IAAMC,SAAS,IAAzC,mBAAO8E,EAAP,KAAc+F,EAAd,KACA,EAAwC9K,IAAMC,SAAS,IAAvD,mBAAO8K,EAAP,KAAqBC,EAArB,KAEA,EAA4DhL,IAAMC,UAAS,GAA3E,mBAAOgL,EAAP,KAAgCC,EAAhC,KACA,EAAwClL,IAAMC,SAAS,IAAvD,mBAAOkL,EAAP,KAAqBC,EAArB,KAEA,EAAgEpL,IAAMC,SAAS,0DAA/E,oBAAOoL,GAAP,MAAiCC,GAAjC,MACA,GAA8DtL,IAAMC,SAAS,0DAA7E,qBAAOsL,GAAP,MAAgCC,GAAhC,MACA,GAA0DxL,IAAMC,SAAS,8CAAzE,qBAAOwL,GAAP,MAA8BC,GAA9B,MACA,GAAkE1L,IAAMC,SAAS,gBAAjF,qBAAO0L,GAAP,MAAkCC,GAAlC,MAEA,GAAwD5L,IAAMC,SAAS,MAAvE,qBAAO4L,GAAP,MAA6BC,GAA7B,MACA,GAA0D9L,IAAMC,UAAS,GAAzE,qBAAO8L,GAAP,MAA+BC,GAA/B,MAEA,GAAkChM,IAAMC,UAAS,GAAjD,qBAAOP,GAAP,MAAkBuM,GAAlB,MAEA,GAAkCjM,IAAMC,SAAS,IAAjD,qBAAOT,GAAP,MAAkB0M,GAAlB,MACA,GAAwClM,IAAMC,SAAS,IAAvD,qBAAOkM,GAAP,MAAqBC,GAArB,MAEA,GAAoCpM,IAAMC,SAAS,MAAnD,qBAAOV,GAAP,MAAmB8M,GAAnB,MACMC,GAAUC,cA0HhB,SAASC,KACPhC,GAAwB,GACxBE,GAAqB,GACrBE,GAAuB,GACvBM,GAAyB,GACzBF,EAAgB,IAChBI,EAAgB,IAChBY,IAAwB,GAwC1B,SAASS,GAAY7F,GACnBK,EAAKyF,MAAM9F,GACRD,MAAK,SAACd,GACL8G,aAAaC,QAAQ,MAAO/G,EAAIH,OAChCmH,QAEDC,OAAM,WACLhB,IAAwB,GACxBE,IAAwB,MAI9B,SAASa,KACP,IAAME,EAAMJ,aAAaK,QAAQ,OAC9BD,EACD9F,EAAKgG,WAAWF,GACbpG,MAAK,SAACd,GACLqG,GAAarG,EAAIe,KAAKrE,OACtB8J,IAAc,GACdJ,IAAa,GACbK,GAAQY,KAAK,QAEdJ,OAAM,WACLhB,IAAwB,GACxBE,IAAwB,MAI5BC,IAAa,GAejB,OAlNAjM,IAAMqC,WAAU,WACdwK,KACAf,IAAwB,KACvB,IAEH9L,IAAMqC,WAAU,WACd2D,QAAQmH,IAAI,CAAC3H,EAAI4H,cAAe5H,EAAI6H,oBACjC1G,MAAK,YAAwB,IAAD,mBAArB2G,EAAqB,KAAXvI,EAAW,KAC3B8F,EAAeyC,GACfxC,EAAS/F,MAEV+H,OAAM,SAACS,GACNC,QAAQC,IAAIF,QAEf,IAoHHvN,IAAMqC,WAAU,WACd,SAASqL,EAAeC,GACN,WAAZA,EAAIC,KACNpB,KAIJ,OADAqB,SAASC,iBAAiB,UAAWJ,GAC9B,kBAAMG,SAASE,oBAAoB,UAAWL,MACpD,IAEH1N,IAAMqC,WAAU,WACd,SAAS2L,EAAkBL,IAEvBA,EAAI5L,OAAOkM,UAAUC,SAAS,UAC9BP,EAAI5L,OAAOkM,UAAUC,SAAS,kBAE9B1B,KAIJ,OADAqB,SAASC,iBAAiB,QAASE,GAC5B,kBAAMH,SAASE,oBAAoB,QAASC,MAClD,IA4DD,qBAAK5N,UAAU,YAAf,SACE,eAACkD,EAAmB6K,SAApB,CAA6BnM,MAAO6B,EAApC,UACE,cAAC,EAAD,CACEtE,WAAYA,GACZC,UAAWA,GACXC,UAhBR,WACE4M,IAAc,GACdC,GAAQY,KAAK,YACbP,aAAayB,WAAW,OACxBlC,GAAa,IACbE,GAAgB,IAChBN,GAAwB,MACxBG,IAAa,IAUPvM,UAAWA,KAEb,eAAC,IAAD,WACE,cAAC,EAAD,CAAgB2O,OAAK,EAACC,KAAK,IACzBlE,UAAWzF,EACXpF,WAAYA,GACZqF,cA/MV,WACEqH,IAAa,GACbzB,GAAwB,GACxBc,GAA4B,2DA6MpBzG,WA1MV,WACE6F,GAAqB,GACrBgB,GAAyB,+CAyMjB5G,aAtMV,WACE8F,GAAuB,GACvBY,GAA2B,2DAqMnB9H,YAlMV,SAAyBD,GACvBuH,EAAgBvH,IAkMRsB,MAAOA,EACPpB,WAhMV,SAAwBF,GACtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OAC7DuB,EACG+I,qBAAqB9K,GAAOU,GAC5BwC,MAAK,SAAC6H,GACL1D,GAAS,SAAC2D,GAAD,OACPA,EAAMvJ,KAAI,SAACwJ,GAAD,OAAQA,EAAEzK,MAAQR,EAAKQ,IAAMuK,EAAUE,WAGpD5B,OAAM,SAACS,GACNC,QAAQC,IAAIF,OAuLR3J,aAtKV,SAA0BH,GACxBmI,GAA6B,gBAC7BR,EAAgB3H,GAChByH,GAAyB,MAsKnB,cAAC,IAAD,CAAOoD,KAAK,WAAZ,SACE,cAAC,EAAD,CAAUjL,WAhFpB,SAAwBuD,GACtBK,EAAK0H,SAAS/H,GACXD,MAAK,SAACd,GACLqG,GAAarG,EAAIe,KAAKrE,OACtB6J,GAAgBxF,EAAKpE,UACrBsJ,IAAwB,GACxBE,IAAwB,MAEzBc,OAAM,WACLhB,IAAwB,GACxBE,IAAwB,WAyEtB,cAAC,IAAD,CAAOsC,KAAK,WAAZ,SACE,cAAC,EAAD,CACEnL,QAASsJ,GACT/M,UAAWA,OAIf,cAAC,IAAD,UACE,cAAC,IAAD,CAAUkB,GAAKrB,GAA0B,IAAb,kBAKhC,cAAC,EAAD,CAAQA,WAAYA,KAEpB,cAAC,EAAD,CACE+H,OAAQiD,EACRhF,QAASiH,GACTzE,aAzLR,SAA0BnB,GACxBqF,IAAa,GACbX,GAA4B,sEAC5B9F,EACGoJ,YAAYhI,GACZD,MAAK,SAAC6H,GACL3D,EAAe,2BACVhH,GADS,IAEZ9C,KAAMyN,EAAQzN,KACdkE,MAAOuJ,EAAQvJ,SAEjBuH,QAEDM,OAAM,SAACS,GACNC,QAAQC,IAAIF,OA4KVvM,WAAYqK,KAGd,cAAC,EAAD,CACE/D,OAAQmD,EACRlF,QAASiH,GACT3H,WAjKR,SAAuBpB,GACrBiI,GAAyB,0DACzBlG,EACGqJ,QAAQpL,GACRkD,MAAK,SAAC6H,GACL1D,EAAS,CAAC0D,GAAF,mBAAczJ,KACtByH,QAEDM,OAAM,SAACS,GACNC,QAAQC,IAAIF,OAyJVvM,WAAYyK,KAGd,cAAC,EAAD,CACEnE,OAAQqD,EACRpF,QAASiH,GACTxD,eArLR,YAAyC,IAAXhE,EAAU,EAAVA,OAC5BwG,GAA2B,sEAC3BhG,EACGsJ,cAAc9J,GACd2B,MAAK,SAACoI,GACLlE,EAAe,2BAAKhH,GAAN,IAAmBmB,OAAQ+J,EAAW/J,UACpDwH,QAEDM,OAAM,SAACS,GACNC,QAAQC,IAAIF,OA6KVvM,WAAYuK,KAGd,cAAC,EAAD,CACEjE,OAAQ2D,EACR1F,QAASiH,GACTvC,eAjOR,SAA0BxG,GACxBmI,GAA6B,0DAC7BpG,EACGwJ,WAAWvL,GACXkD,MAAK,WACJmE,EAAS/F,EAAMkK,QAAO,SAAC3K,GAAD,OAAOA,EAAEL,MAAQR,EAAKQ,QAC5CuI,QAEDM,OAAM,SAACS,GACNC,QAAQC,IAAIF,OAyNV9J,KAAM0H,EACNnK,WAAY2K,KAGd,cAAC,EAAD,CAAYlI,KAAMsH,EAAcxF,QAASiH,KAEzC,cAAC,EAAD,CACElF,OAAQyE,GACRxG,QA3KR,WACEiH,KACGX,IACDY,GAAY,CAAClK,MAAO/C,GAAWgD,SAAU2J,MAyKrC5E,UAAWsE,WCvUrBqD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJvB,SAASwB,eAAe,W","file":"static/js/main.09f94625.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport { NavLink, useLocation } from 'react-router-dom';\nimport logoPath from \"../images/logo.svg\";\n\nfunction Header({ isLoggedIn, userEmail, onSignOut, isLoading }) {\n  const location = useLocation();\n  const isLocationSignIn = location.pathname === '/sign-in';\n  const isLocationMain = location.pathname === '/';\n  const [isColumnMenu, setColumnMenu] = React.useState(false);\n\n  function handleSignOut() {\n    onSignOut();\n    setColumnMenu(false);\n  }\n\n  function handleSignIn() {\n\n  }\n\n  function handleMenuClick() {\n    setColumnMenu(true);\n  }\n\n  function handleCloseMenu() {\n    setColumnMenu(false);\n  }\n\n  return (\n    <header className={`header`}>\n      <div className={`header__container ${isColumnMenu ? \"header_columned\" : \"\"}`}>\n        <div className={`header__logo-container ${isColumnMenu ? \"header__logo-container_column\" : \"\"}`}>\n          <a className={`header__logo ${isColumnMenu ? \"header__logo_columned\" : \"\"}`} href=\"/react-mesto-auth\">\n            <img src={logoPath} alt=\"Логотип сайта\" className=\"header__image\" />\n          </a>\n          <button className={`btn-close ${isColumnMenu ? \"btn-close_active\" : \"btn-close_inactive\"}`} onClick={handleCloseMenu} type=\"button\">&times;</button>\n        </div>\n        <div className={`header__burger-menu ${(!isLoggedIn || isColumnMenu) ? \"header__burger-menu_inactive\" : \"\"}`} onClick={handleMenuClick}>\n          <div className=\"header__burger-line\"></div>\n          <div className=\"header__burger-line\"></div>\n          <div className=\"header__burger-line\"></div>\n        </div>\n        {(!isLoading || isLocationMain) &&\n          <nav className={`header__nav-container ${isLoggedIn && !isColumnMenu ? \"header__nav-container_type_inactive\" : \"\"} ${isColumnMenu ? \"header__nav-container_type_column\" : \"\"}`}>\n            <p className=\"header__email\">{isLoggedIn ? userEmail : \"\"}</p>\n            {!isLocationSignIn ?\n              <NavLink className={`header__nav-item ${isLocationMain ? \"header__nav-item_active\" : \"\"}`} to={\"/sign-in\"} onClick={!isLoggedIn ? handleSignIn : handleSignOut}>{isLoggedIn ? \"Выйти\" : \"Войти\"}</NavLink>\n              :\n              <NavLink className=\"header__nav-item\" activeClassName=\"header__nav-item_active\" to={\"/sign-up\"}>{!isLoggedIn ? \"Регистрация\" : \"\"}</NavLink>\n            }\n          </nav>\n        }\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useFormAndValidation } from '../utils/useFormAndValidation';\r\n\r\nfunction AuthForm({ title, name, buttonText, onSubmit }) {\r\n  const location = useLocation();\r\n  const isLocationSignUp = location.pathname === \"/sign-up\";\r\n  const { values, handleChange, errors, isValid, resetForm } = useFormAndValidation();\r\n\r\n  React.useEffect(() => {\r\n    resetForm();\r\n  }, []);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit({ email: values.email, password: values.password });\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <h2 className=\"auth__title\">{title}</h2>\r\n\r\n      <form\r\n        className=\"auth__form\"\r\n        name={`auth-edit-${name}`}\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={values.email || \"\"}\r\n          placeholder=\"Email\"\r\n          className={`auth__input ${errors.email ? \"auth__input_error\" : \"\"}`}\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <span className={`auth__input-error ${errors.email ? \"auth__input-error_active\" : \"\"}`}>{errors.email}</span>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={values.password || \"\"}\r\n          placeholder=\"Пароль\"\r\n          className={`auth__input ${errors.password ? \"auth__input_error\" : \"\"}`}\r\n          minLength=\"8\"\r\n          maxLength=\"40\"\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <span className={`auth__input-error ${errors.password ? \"auth__input-error_active\" : \"\"}`}>{errors.password}</span>\r\n        {\r\n          <button\r\n            type=\"submit\"\r\n            className={`auth__btn ${!isValid ? \"auth__btn_inactive\" : \"\"}`}\r\n            disabled={!isValid ? true : \"\"}\r\n          >\r\n            {buttonText}\r\n          </button>\r\n        }\r\n        {\r\n          isLocationSignUp && (\r\n            <div className=\"auth__block\">\r\n              <p className=\"auth__block_text\">Уже зарегистрированы?&nbsp;</p>\r\n              <Link className=\"auth__block_link\" to={\"/sign-in\"}>Войти</Link>\r\n            </div>\r\n          )\r\n        }\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthForm;","import {useState, useCallback} from 'react';\r\n\r\nexport function useFormAndValidation(){\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  function handleChange(e){\r\n    const {name, value} = e.target;\r\n    setValues({...values, [name]: value});\r\n    setErrors({...errors, [name]: e.target.validationMessage});\r\n    setIsValid(e.target.closest('form').checkValidity());\r\n  }\r\n\r\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false) => {\r\n    setValues(newValues);\r\n    setErrors(newErrors);\r\n    setIsValid(newIsValid);\r\n  }, [setValues, setErrors, setIsValid]);\r\n\r\n  return {values, handleChange, errors, isValid, resetForm, setValues, setErrors, setIsValid};\r\n}","import React from 'react';\r\n\r\nconst Spinner = React.memo(({ isLoading }) => {\r\n  return (\r\n    isLoading && (\r\n      <div className=\"spinner\">\r\n        <div className=\"spinner__container\">\r\n          <div className=\"spinner__animation\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  )\r\n})\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport AuthForm from './AuthForm';\r\nimport Spinner from \"./Spinner\";\r\n\r\nfunction Login({ onLogin, isLoading }) {\r\n  return (\r\n    <>\r\n      <Spinner isLoading={isLoading} />\r\n      {!isLoading &&\r\n        <AuthForm\r\n          title=\"Вход\"\r\n          name=\"login\"\r\n          buttonText=\"Войти\"\r\n          onSubmit={onLogin}\r\n        />\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register({ onRegister }) {\r\n  return (\r\n      <AuthForm\r\n        title=\"Регистрация\"\r\n        name=\"register\"\r\n        buttonText=\"Зарегистрироваться\"\r\n        onSubmit={onRegister}\r\n      />\r\n  )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/like.49570bcb.svg\";","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport {CurrentUserContext};","import React from \"react\";\nimport likePath from \"../images/like.svg\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"\" : \"element__delete_inactive\"\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__link ${\n    isLiked ? \"element__link_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        src={`${card.link}`}\n        onClick={handleClick}\n        alt={card.name}\n        className=\"element__image\"\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n        type=\"button\"\n      ></button>\n      <div className=\"element__block\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__box\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type=\"button\"\n          >\n            <img\n              src={likePath}\n              alt=\"Изображение сердца\"\n              className=\"element__icon\"\n            />\n          </button>\n          <div className=\"element__count\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport editImagePath from \"../images/edit.png\";\nimport plusImagePath from \"../images/plus.png\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  card,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__block\">\n          <button\n            className=\"profile__button profile__button_avatar\"\n            type=\"button\"\n            onClick={onEditAvatar}\n          >\n            <img\n              src={currentUser.avatar}\n              alt=\"Изображение пользователя\"\n              className=\"profile__avatar\"\n            />\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__author\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                className=\"profile__button profile__button_edit\"\n                type=\"button\"\n                onClick={onEditProfile}\n              >\n                <img\n                  src={editImagePath}\n                  alt=\"Изображение карандаш\"\n                  className=\"profile__pencil\"\n                />\n              </button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__button profile__button_plus\"\n          type=\"button\"\n          onClick={onAddPlace}\n        >\n          <img\n            src={plusImagePath}\n            alt=\"Изображение плюс\"\n            className=\"profile__plus\"\n          />\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB1cpBDQAgDEPRSZgEJOAMCUibBCSVLfRI2K40+enliTwGQD3zeoYWzqyC4vULRDgraHiN+I4ILbAk2wl8k3m1+6eCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABbSURBVHgB7ZTBCQAhDARzx/VzdqB2ZCfWZkXRgKA/F1E/ZiCQx2YeQUMEwMyWGw6ZeWkTKlbxQfEnjx/Ima7/5ZeMBh4kNMO+VZTyQE5WEWsfSiVagR4hFd8qzr8SKuKf+UWqAAAAAElFTkSuQmCC\"","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">\n        &copy; {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup-image popup ${card.link ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup-image__block\">\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>\n          &times;\n        </button>\n        <img src={card.link} alt=\"\" className=\"popup-image__photo\" />\n        <h2 className=\"popup-image__descr\">{card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({groupID, token, authUrl}) {\n    this._groupID = groupID;\n    this._token = token;\n    this._authUrl = authUrl;\n  }\n\n  getUserInfo() {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._showErrorMessage)\n  }\n\n  setUserInfo(data) {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(this._showErrorMessage)\n  }\n\n  getInitialCards() {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._showErrorMessage)\n  }\n\n  addCard(card) {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link\n      })\n    })\n      .then(this._showErrorMessage)\n  }\n\n  deleteCard(card) {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/${card._id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._showErrorMessage)\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(this._showErrorMessage)\n  }\n\n  changeLikeCardStatus(card, likeCardStatus) {\n    return fetch(`https://mesto.nomoreparties.co/v1/${this._groupID}/cards/likes/${card._id}`, {\n      method: (likeCardStatus ? \"PUT\" : \"DELETE\"),\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._showErrorMessage)\n  }\n\n  _showErrorMessage = (res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  token: \"23cb390e-6742-419b-8dec-601afe24420f\",\n  groupID: \"cohort-22\",\n  authUrl: \"https://auth.nomoreparties.co\"\n});\n\nexport default api;","import {authSettings} from './utils';\r\n\r\nclass Auth{\r\n  constructor({baseUrl}){\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  _checkResponse(res){\r\n    if(res.ok){\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n  }\r\n\r\n  register({email, password}){\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": password,\r\n        \"email\": email\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  login({email, password}){\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": password,\r\n        \"email\": email\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  checkToken(token){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${token}`\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth(authSettings);\r\nexport default auth;","const authSettings = {\r\n  baseUrl: \"https://auth.nomoreparties.co\"\r\n}\r\n\r\nexport {authSettings};","import React from 'react';\r\n\r\nfunction InfoToolTip({isOpen, isSuccess, onClose}){\r\n  return (\r\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <div className={`popup__tooltip-image ${!isSuccess ? 'popup__tooltip-image_unsuccess' : ''}`}></div>\r\n        <h2 className={`popup__tooltip_title`}>{!isSuccess ? \"Что-то пошло не так! Попробуйте еще раз.\" : \"Вы успешно зарегистрировались!\"}</h2>\r\n        <button className='btn-close btn-close_tooltip' type='button' onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoToolTip;","import React from \"react\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  isOpen,\n  buttonText,\n  onClose,\n  children,\n  containerName,\n  titleName,\n  btnName,\n  onSubmit,\n  buttonState,\n}) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container ${containerName ? containerName : \"\"}`}>\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}>\n          &times;\n        </button>\n        <h2 className={`popup__title ${titleName ? titleName : \"\"}`}>\n          {title}\n        </h2>\n        <form\n          className=\"popup__form popup__form_profile\"\n          name={`popup-form-${name}`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            className={`popup__btn ${btnName ? btnName : \"\"} ${\n              !buttonState ? \"popup__btn_inactive\" : \"\"\n            }`}\n            type=\"submit\"\n            disabled={!buttonState ? true : \"\"}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, buttonText }) {\n  const [name, setName] = React.useState(\"Name\");\n  const [description, setDescription] = React.useState(\"About\");\n\n  const [nameInputValid, setNameInputValid] = React.useState(true);\n  const [aboutInputValid, setAboutInputValid] = React.useState(true);\n  const [nameErrorMessage, setNameErrorMessage] = React.useState(\"\");\n  const [aboutErrorMessage, setAboutErrorMessage] = React.useState(\"\");\n  const [buttonState, setButtonState] = React.useState(false);\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n    setNameInputValid(true);\n    setAboutInputValid(true);\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n    checkNameInputValidity(e.target);\n  }\n\n  function handleChangeAbout(e) {\n    setDescription(e.target.value);\n    checkAboutInputValidity(e.target);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function checkNameInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setNameInputValid(false);\n      setNameErrorMessage(inputElement.validationMessage);\n    } else {\n      setNameInputValid(true);\n    }\n  }\n\n  function checkAboutInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setAboutInputValid(false);\n      setAboutErrorMessage(inputElement.validationMessage);\n    } else {\n      setAboutInputValid(true);\n    }\n  }\n\n  React.useEffect(() => {\n    if (nameInputValid && aboutInputValid) {\n      setButtonState(true);\n    } else {\n      setButtonState(false);\n    }\n  }, [nameInputValid, aboutInputValid]);\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <div className=\"popup__area\">\n        <input\n          className={`popup__input popup__input_type_name`}\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleChangeName}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !nameInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {nameErrorMessage}\n        </span>\n      </div>\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_job\"\n          type=\"text\"\n          name=\"about\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleChangeAbout}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !aboutInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {aboutErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, buttonText }) {\n  const inputRef = React.useRef();\n\n  const [linkInputValid, setLinkInputValid] = React.useState(true);\n  const [linkErrorMessage, setLinkErrorMessage] = React.useState(\"\");\n  const [buttonState, setButtonState] = React.useState(false);\n  const [linkOriginalState, setLinkOriginalState] = React.useState(true);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({ avatar: inputRef.current.value });\n  }\n\n  function handleChange(e) {\n    if (!e.target.validity.valid) {\n      setLinkOriginalState(false);\n      setLinkInputValid(false);\n      setLinkErrorMessage(e.target.validationMessage);\n    } else {\n      setLinkOriginalState(false);\n      setLinkInputValid(true);\n    }\n  }\n\n  React.useEffect(() => {\n    setLinkOriginalState(true);\n    setLinkInputValid(true);\n    setButtonState(false);\n    inputRef.current.value = \"\";\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    if (linkInputValid && !linkOriginalState) {\n      setButtonState(true);\n    } else {\n      setButtonState(false);\n    }\n  }, [linkInputValid, linkOriginalState]);\n\n  return (\n    <PopupWithForm\n      containerName=\"popup-upd__container\"\n      titleName=\"popup-upd__title\"\n      btnName=\"popup-upd__btn\"\n      title=\"Обновить аватар\"\n      name=\"update\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup-upd__input popup__input\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на аватар\"\n          ref={inputRef}\n          onChange={handleChange}\n          required\n        />\n        <span\n          className={`popup__input-error popup-upd__input-error ${\n            !linkInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n          id=\"popup-upd-error\"\n        >\n          {linkErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, buttonText }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  const [nameInputValid, setNameInputValid] = React.useState(true);\n  const [linkInputValid, setLinkInputValid] = React.useState(true);\n  const [nameErrorMessage, setNameErrorMessage] = React.useState(\"\");\n  const [linkErrorMessage, setLinkErrorMessage] = React.useState(\"\");\n  const [buttonState, setButtonState] = React.useState(false);\n\n  const [nameOriginalState, setNameOriginalState] = React.useState(true);\n  const [linkOriginalState, setLinkOriginalState] = React.useState(true);\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  function handleChangeTitle(e) {\n    setName(e.target.value);\n    checkNameInputValidity(e.target);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n    checkLinkInputValidity(e.target);\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n    setNameInputValid(true);\n    setLinkInputValid(true);\n    setButtonState(false);\n    setNameOriginalState(true);\n    setLinkOriginalState(true);\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    if (\n      nameInputValid &&\n      linkInputValid &&\n      !nameOriginalState &&\n      !linkOriginalState\n    ) {\n      setButtonState(true);\n    } else {\n      setButtonState(false);\n    }\n  }, [nameInputValid, linkInputValid, nameOriginalState, linkOriginalState]);\n\n  function checkNameInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setNameOriginalState(false);\n      setNameInputValid(false);\n      setNameErrorMessage(inputElement.validationMessage);\n    } else {\n      setNameOriginalState(false);\n      setNameInputValid(true);\n    }\n  }\n\n  function checkLinkInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      setLinkOriginalState(false);\n      setLinkInputValid(false);\n      setLinkErrorMessage(inputElement.validationMessage);\n    } else {\n      setLinkOriginalState(false);\n      setLinkInputValid(true);\n    }\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"card\"\n      buttonText={buttonText}\n      onSubmit={handleAddPlaceSubmit}\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonState={buttonState}\n    >\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_place\"\n          type=\"text\"\n          name=\"place\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={name}\n          onChange={handleChangeTitle}\n          onClose={onClose}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !nameInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {nameErrorMessage}\n        </span>\n      </div>\n      <div className=\"popup__area\">\n        <input\n          className=\"popup__input popup__input_type_link\"\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          value={link}\n          onChange={handleChangeLink}\n          onClose={onClose}\n          required\n        />\n        <span\n          className={`popup__input-error ${\n            !linkInputValid ? \"popup__input-error_active\" : \"\"\n          }`}\n        >\n          {linkErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AffirmDeletePopup({\n  isOpen,\n  onClose,\n  card,\n  onSubmitDelete,\n  buttonText,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmitDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      containerName=\"popup-sure__container\"\n      titleName=\"popup-sure__title\"\n      btnName=\"popup__btn_yes\"\n      title=\"Вы уверены?\"\n      name=\"delete\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={true}\n    />\n  );\n}\n\nexport default AffirmDeletePopup;\n","import React from \"react\";\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({component: Component, ...props}){\r\n  return (\r\n    <Route>\r\n      {() => props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api.js\";\nimport auth from \"../utils/auth\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport AffirmDeletePopup from \"./AffirmDeletePopup\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [isAffirmDeletePopupOpen, setAffirmDeletePopupOpen] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState({});\n\n  const [loadTextEditProfilePopup, setLoadTextEditProfilePopup] = React.useState(\"Сохранить\");\n  const [loadTextEditAvatarPopup, setLoadTextEditAvatarPopup] = React.useState(\"Сохранить\");\n  const [loadTextAddPlacePopup, setLoadTextAddPlacePopup] = React.useState(\"Создать\");\n  const [loadTextAffirmDeletePopup, setLoadTextAffirmDeletePopup] = React.useState(\"Да\");\n\n  const [isSuccessInfoToolTip, setIsSuccessInfoToolTip] = React.useState(null);\n  const [isInfoToolTipPopupOpen, setInfoToolTipPopupOpen] = React.useState(false);\n\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const [userPassword, setUserPassword] = React.useState(\"\");\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(null);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    handleCheckToken();\n    setIsSuccessInfoToolTip(false);\n  }, []);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsLoading(false);\n    setEditProfilePopupOpen(true);\n    setLoadTextEditProfilePopup(\"Сохранить\");\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n    setLoadTextAddPlacePopup(\"Создать\");\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n    setLoadTextEditAvatarPopup(\"Сохранить\");\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setLoadTextAffirmDeletePopup(\"Удаление . . .\");\n    api\n      .deleteCard(card)\n      .then(() => {\n        setCards(cards.filter((i) => i._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function affirmCardDelete(card) {\n    setLoadTextAffirmDeletePopup(\"Да\");\n    setCardToDelete(card);\n    setAffirmDeletePopupOpen(true);\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    setLoadTextEditProfilePopup(\"Сохранение . . .\");\n    api\n      .setUserInfo(data)\n      .then((newCard) => {\n        setCurrentUser({\n          ...currentUser,\n          name: newCard.name,\n          about: newCard.about,\n        });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setLoadTextEditAvatarPopup(\"Сохранение . . .\");\n    api\n      .setUserAvatar(avatar)\n      .then((updateUser) => {\n        setCurrentUser({ ...currentUser, avatar: updateUser.avatar });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddCard(card) {\n    setLoadTextAddPlacePopup(\"Создание . . .\");\n    api\n      .addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function closeInfoToolTipPopup(){\n    closeAllPopups();\n    if(isSuccessInfoToolTip){\n      handleLogin({email: userEmail, password: userPassword});\n    }\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAffirmDeletePopupOpen(false);\n    setSelectedCard({});\n    setCardToDelete({});\n    setInfoToolTipPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener(\"keydown\", handleEscClose);\n    return () => document.removeEventListener(\"keydown\", handleEscClose);\n  }, []);\n\n  React.useEffect(() => {\n    function closeOutsidePopup(evt) {\n      if (\n        evt.target.classList.contains(\"popup\") ||\n        evt.target.classList.contains(\"popup__close\")\n      ) {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener(\"click\", closeOutsidePopup);\n    return () => document.removeEventListener(\"click\", closeOutsidePopup);\n  }, []);\n\n  function handleRegister(data) {\n    auth.register(data)\n      .then((res) => {\n        setUserEmail(res.data.email);\n        setUserPassword(data.password);\n        setIsSuccessInfoToolTip(true);\n        setInfoToolTipPopupOpen(true);\n      })\n      .catch(() => {\n        setIsSuccessInfoToolTip(false);\n        setInfoToolTipPopupOpen(true);\n      })\n  }\n\n  function handleLogin(data){\n    auth.login(data)\n      .then((res) => {\n        localStorage.setItem(\"jwt\", res.token);\n        handleCheckToken();\n      })\n      .catch(() => {\n        setIsSuccessInfoToolTip(false);\n        setInfoToolTipPopupOpen(true);\n      })\n  }\n\n  function handleCheckToken(){\n    const jwt = localStorage.getItem(\"jwt\");\n    if(jwt){\n      auth.checkToken(jwt)\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setIsLoggedIn(true);\n          setIsLoading(false);\n          history.push(\"/\");\n        })\n        .catch(() => {\n          setIsSuccessInfoToolTip(false);\n          setInfoToolTipPopupOpen(true);\n        })\n    } \n    else {\n      setIsLoading(false);\n      return;\n    }\n  }\n\n  function handleSignOut(){\n    setIsLoggedIn(false);\n    history.push(\"/sign-in\");\n    localStorage.removeItem(\"jwt\");\n    setUserEmail(\"\");\n    setUserPassword(\"\");\n    setIsSuccessInfoToolTip(null);\n    setIsLoading(false);\n  }\n\n  return (\n    <div className=\"container\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header \n          isLoggedIn={isLoggedIn}\n          userEmail={userEmail}\n          onSignOut={handleSignOut}\n          isLoading={isLoading}\n        />\n        <Switch>\n          <ProtectedRoute exact path=\"/\"\n            component={Main}\n            isLoggedIn={isLoggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={affirmCardDelete}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login \n              onLogin={handleLogin} \n              isLoading={isLoading}\n              />\n          </Route>\n\n          <Route>\n            <Redirect to={!isLoggedIn ? \"/sign-in\" : \"/\"} />\n          </Route>\n\n        </Switch>\n\n        <Footer isLoggedIn={isLoggedIn} />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          buttonText={loadTextEditProfilePopup}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n          buttonText={loadTextAddPlacePopup}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          buttonText={loadTextEditAvatarPopup}\n        />\n\n        <AffirmDeletePopup\n          isOpen={isAffirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          onSubmitDelete={handleCardDelete}\n          card={cardToDelete}\n          buttonText={loadTextAffirmDeletePopup}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <InfoToolTip \n          isOpen={isInfoToolTipPopupOpen}\n          onClose={closeInfoToolTipPopup}\n          isSuccess={isSuccessInfoToolTip}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}